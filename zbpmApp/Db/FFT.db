record(waveform,"$(P){BPM:$(NO)}FFT:SA-Wfm"){
  field(DTYP,"Soft Channel")
  field(DESC,"History")
  field(NELM,"10000")
  field(FTVL,"FLOAT")
}

record(waveform,"$(P){BPM:$(NO)}FFT:FA-Wfm"){
  field(DTYP,"Soft Channel")
  field(DESC,"History")
  field(NELM,"10000")
  field(FTVL,"FLOAT")
}

record(waveform,"$(P){BPM:$(NO)}FFT:TBT-Wfm"){
  field(DTYP,"Soft Channel")
  field(DESC,"History")
  field(NELM,"10000")
  field(FTVL,"FLOAT")
}

record(waveform,"$(P){BPM:$(NO)}FFT:ADC-Wfm"){
  field(DTYP,"Soft Channel")
  field(DESC,"History")
  field(NELM,"10000")
  field(FTVL,"FLOAT")
}

record(waveform,"$(P){BPM:$(NO)}FFT:Magnitude-Wfm"){
  field(DTYP,"Soft Channel")
  field(DESC,"History")
  field(NELM,"5000")
  field(FTVL,"FLOAT")
}

record(waveform,"$(P){BPM:$(NO)}FFT:Freq-Wfm"){
  field(DTYP,"Soft Channel")
  field(DESC,"FFT Frequency Array")
  field(NELM,"10000")
  field(FTVL,"FLOAT")
}

record(mbbo,"$(P){BPM:$(NO)}FFT:Stream-SP"){
  field(PINI,"YES")

  field(ZRVL,"0")
  field(ONVL,"1")
  field(TWVL,"2")
  field(THVL,"3")

  field(ZRST,"ADC")
  field(ONST,"TBT")
  field(TWST,"FA")
  field(THST,"SA")
}

record(mbbo,"$(P){BPM:$(NO)}FFT:Chan-SP"){
  field(PINI,"YES")

  field(ZRVL,"0")
  field(ONVL,"1")
  field(TWVL,"2")
  field(THVL,"3")
  field(FRVL,"4")
  field(FVVL,"5")

  field(ZRST,"A")
  field(ONST,"B")
  field(TWST,"C")
  field(THST,"D")
  field(FRST,"X")
  field(FVST,"Y")
}

record(mbbo,"$(P){BPM:$(NO)}FFT:Unit-SP"){
  field(PINI,"YES")
  field(ZRVL,"0")
  field(ONVL,"1")
  field(TWVL,"2")

  field(ZRST,"Volt")
  field(ONST,"dBfs")
  field(TWST,"dBc")
}

record(ai,"$(P){BPM:$(NO)}FFT:deltaF-I"){
  field(DTYP,"Soft Channel")
  field(VAL,0)
  field(UDF,0)
}

record(ai,"$(P){BPM:$(NO)}FFT:AvgIn-I"){
  field(DTYP,"Soft Channel")
  field(DESC,"FFT Average Input Value")
  field(VAL,0)
  field(UDF,0)
}

record(longin,"$(P){BPM:$(NO)}FFT:Samples-I"){
  field(DTYP,"Soft Channel")
  field(DESC,"FFT Input Samples")
  field(VAL,0)
  field(UDF,0)
}

record(aSub,"$(P){BPM:$(NO)}FFT:SA-Sub"){
    field(SNAM,"SAselect")
    field(SCAN,"1 second")
    field(PINI, "YES")
    field(FLNK,"$(P){BPM:$(NO)}FFT:FA-Sub")

    field(FTA,  "LONG")
    field(NOA,  "1")
    field(INPA, "$(P){BPM:$(NO)}FFT:Chan-SP.RVAL")
    field(FTB,  "LONG")
    field(NOB,  "1")
    field(INPB, "$(P){BPM:$(NO)}FFT:Stream-SP.RVAL")

    field(FTC,  "FLOAT")
    field(NOC,  "10000")
    field(INPC, "$(P){BPM:$(NO)}SA:A-Wfm")
    field(FTD,  "FLOAT")
    field(NOD,  "10000")
    field(INPD, "$(P){BPM:$(NO)}SA:B-Wfm")
    field(FTE,  "FLOAT")
    field(NOE,  "10000")
    field(INPE, "$(P){BPM:$(NO)}SA:C-Wfm")
    field(FTF,  "FLOAT")
    field(NOF,  "10000")
    field(INPF, "$(P){BPM:$(NO)}SA:D-Wfm")
    field(FTG,  "FLOAT")
    field(NOG,  "10000")
    field(INPG, "$(P){BPM:$(NO)}SA:X-Wfm")
    field(FTH,  "FLOAT")
    field(NOH,  "10000")
    field(INPH, "$(P){BPM:$(NO)}SA:Y-Wfm")
    field(FTI,  "LONG")
    field(NOI,  "1")
    field(INPI, "$(P){BPM:$(NO)}SA:A-Wfm.NORD")

    field(FTVA,  "FLOAT")
    field(NOVA,  "10000")
    field(OUTA, "$(P){BPM:$(NO)}FFT:SA-Wfm PP")
}

record(aSub,"$(P){BPM:$(NO)}FFT:FA-Sub"){
    field(SNAM,"FAselect")
    field(SCAN,"1 second")
    field(PINI, "YES")
    field(FLNK,"$(P){BPM:$(NO)}FFT:TBT-Sub")

    field(FTA,  "LONG")
    field(NOA,  "1")
    field(INPA, "$(P){BPM:$(NO)}FFT:Chan-SP.RVAL")
    field(FTB,  "LONG")
    field(NOB,  "1")
    field(INPB, "$(P){BPM:$(NO)}FFT:Stream-SP.RVAL")

    field(FTC,  "FLOAT")
    field(NOC,  "10000")
    field(INPC, "$(P){BPM:$(NO)}FA:A-Wfm")
    field(FTD,  "FLOAT")
    field(NOD,  "10000")
    field(INPD, "$(P){BPM:$(NO)}FA:B-Wfm")
    field(FTE,  "FLOAT")
    field(NOE,  "10000")
    field(INPE, "$(P){BPM:$(NO)}FA:C-Wfm")
    field(FTF,  "FLOAT")
    field(NOF,  "10000")
    field(INPF, "$(P){BPM:$(NO)}FA:D-Wfm")
    field(FTG,  "FLOAT")
    field(NOG,  "10000")
    field(INPG, "$(P){BPM:$(NO)}FA:X-Wfm")
    field(FTH,  "FLOAT")
    field(NOH,  "10000")
    field(INPH, "$(P){BPM:$(NO)}FA:Y-Wfm")
    field(FTI,  "LONG")
    field(NOI,  "1")
    field(INPI, "$(P){BPM:$(NO)}FA:WfmLen-SP")


    field(FTVA,  "FLOAT")
    field(NOVA,  "10000")
    field(OUTA, "$(P){BPM:$(NO)}FFT:FA-Wfm PP")
}

record(aSub,"$(P){BPM:$(NO)}FFT:TBT-Sub"){
    field(SNAM,"TBTselect")
    field(PINI, "YES")
    field(FLNK,"$(P){BPM:$(NO)}FFT:ADC-Sub")

    field(FTA,  "LONG")
    field(NOA,  "1")
    field(INPA, "$(P){BPM:$(NO)}FFT:Chan-SP.RVAL")
    field(FTB,  "LONG")
    field(NOB,  "1")
    field(INPB, "$(P){BPM:$(NO)}FFT:Stream-SP.RVAL")

    field(FTC,  "FLOAT")
    field(NOC,  "10000")
    field(INPC, "$(P){BPM:$(NO)}TBT:A-Wfm")
    field(FTD,  "FLOAT")
    field(NOD,  "10000")
    field(INPD, "$(P){BPM:$(NO)}TBT:B-Wfm")
    field(FTE,  "FLOAT")
    field(NOE,  "10000")
    field(INPE, "$(P){BPM:$(NO)}TBT:C-Wfm")
    field(FTF,  "FLOAT")
    field(NOF,  "10000")
    field(INPF, "$(P){BPM:$(NO)}TBT:D-Wfm")
    field(FTG,  "FLOAT")
    field(NOG,  "10000")
    field(INPG, "$(P){BPM:$(NO)}TBT:X-Wfm")
    field(FTH,  "FLOAT")
    field(NOH,  "10000")
    field(INPH, "$(P){BPM:$(NO)}TBT:Y-Wfm")
    field(FTI,  "LONG")
    field(NOI,  "1")
    field(INPI, "$(P){BPM:$(NO)}TBT:WfmLen-SP")

    field(FTVA,  "FLOAT")
    field(NOVA,  "10000")
    field(OUTA, "$(P){BPM:$(NO)}FFT:TBT-Wfm PP")
}

record(aSub,"$(P){BPM:$(NO)}FFT:ADC-Sub"){
    field(SNAM,"ADCselect")
    field(SCAN,"Passive")
    field(PINI, "YES")
    field(FLNK,"$(P){BPM:$(NO)}FFT-Sub")

    field(FTA,  "LONG")
    field(NOA,  "1")
    field(INPA, "$(P){BPM:$(NO)}FFT:Chan-SP.RVAL")
    field(FTB,  "LONG")
    field(NOB,  "1")
    field(INPB, "$(P){BPM:$(NO)}FFT:Stream-SP.RVAL")

    field(FTC,  "FLOAT")
    field(NOC,  "10000")
    field(INPC, "$(P){BPM:$(NO)}ADC:A-Wfm")
    field(FTD,  "FLOAT")
    field(NOD,  "10000")
    field(INPD, "$(P){BPM:$(NO)}ADC:B-Wfm")
    field(FTE,  "FLOAT")
    field(NOE,  "10000")
    field(INPE, "$(P){BPM:$(NO)}ADC:C-Wfm")
    field(FTF,  "FLOAT")
    field(NOF,  "10000")
    field(INPF, "$(P){BPM:$(NO)}ADC:D-Wfm")
    field(FTG,  "LONG")
    field(NOG,  "1")
    field(INPG, "$(P){BPM:$(NO)}ADC:WfmLen-SP")

    field(FTVA,  "FLOAT")
    field(NOVA,  "10000")
    field(OUTA, "$(P){BPM:$(NO)}FFT:ADC-Wfm PP")
}

record(aSub,"$(P){BPM:$(NO)}FFT-Sub"){
    field(SNAM,"FFTcalc")
    field(SCAN,"Passive")
    field(PINI, "YES")

    field(FTA,  "LONG")
    field(NOA,  "1")
    field(INPA, "$(P){BPM:$(NO)}FFT:Chan-SP.RVAL")
    field(FTB,  "LONG")
    field(NOB,  "1")
    field(INPB, "$(P){BPM:$(NO)}FFT:Stream-SP.RVAL")
    field(FTC,  "LONG")
    field(NOC,  "1")
    field(INPC, "$(P){BPM:$(NO)}FFT:Unit-SP.RVAL")
    field(FTD,  "FLOAT")
    field(NOD,  "10000")
    field(INPD, "$(P){BPM:$(NO)}FFT:SA-Wfm")
    field(FTE,  "FLOAT")
    field(NOE,  "10000")
    field(INPE, "$(P){BPM:$(NO)}FFT:FA-Wfm")
    field(FTF,  "FLOAT")
    field(NOF,  "10000")
    field(INPF, "$(P){BPM:$(NO)}FFT:TBT-Wfm")
    field(FTG,  "FLOAT")
    field(NOG,  "10000")
    field(INPG, "$(P){BPM:$(NO)}FFT:ADC-Wfm")
    field(FTH,  "LONG")
    field(NOH,  "1")
    field(INPH, "$(P){BPM:$(NO)}SA:A-Wfm.NORD")
    field(FTI,  "LONG")
    field(NOI,  "1")
    field(INPI, "$(P){BPM:$(NO)}FA:WfmLen-SP")
    field(FTJ,  "LONG")
    field(NOJ,  "1")
    field(INPJ, "$(P){BPM:$(NO)}TBT:WfmLen-SP")
    field(FTK,  "LONG")
    field(NOK,  "1")
    field(INPK, "$(P){BPM:$(NO)}ADC:WfmLen-SP")
    field(FTL,  "LONG")
    field(NOL,  "1")
    field(INPL, "$(P){BPM:$(NO)}SA:Decimate-I")

    field(FTVA,  "FLOAT")
    field(NOVA,  "5000")
    field(OUTA, "$(P){BPM:$(NO)}FFT:Magnitude-Wfm PP")
    field(FTVB,  "FLOAT")
    field(NOVB,  "10000")
    field(OUTB, "$(P){BPM:$(NO)}FFT:Freq-Wfm PP")
    field(FTVC,  "FLOAT")
    field(NOVC,  "1")
    field(OUTC, "$(P){BPM:$(NO)}FFT:deltaF-I PP")
    field(FTVD,  "FLOAT")
    field(NOVD,  "1")
    field(OUTD, "$(P){BPM:$(NO)}FFT:AvgIn-I PP")
    field(FTVE,  "LONG")
    field(NOVE,  "1")
    field(OUTE, "$(P){BPM:$(NO)}FFT:Samples-I PP")
}

